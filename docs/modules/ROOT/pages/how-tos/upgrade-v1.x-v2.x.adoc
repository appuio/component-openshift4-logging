= Upgrade from v1.x to v2.0.0

This only affects ClusterLogForwarding, if you don't have this option enabled in your configuration you don't need to change anything.

== Steps

. Transform current configuration to new configuration
+
If your current configuration looks like this:
[source,bash]
----
parameters:
  openshift4_logging:
    clusterLogForwarding:
      enabled: true
      forwarders: <1>
        ...
      namespaces: <2>
        my-namespace:
          forwarder: s3-forwarder-archive
        my-other-namespace:
          forwarder: s3-forwarder-archive
----
<1> `forwarders` section stays the same.
<2> `namespaces` will be replaced.

The updated configuration would look like this:
[source,bash]
----
parameters:
  openshift4_logging:
    clusterLogForwarding:
      enabled: true
      forwarders:
        ...
      namespace_groups:
        my-group:
          namespaces:
            - my-namespace
            - my-other-namespace
          forwarders:
            - s3-forwarder-archive
----

. Upgrade `openshift4-logging` to `v2.0.0`
+
[source,bash]
----
parameters:
  components:
    openshift4-logging:
      version: v2.0.0
----

. Commit and push changes to cluster config
+
[source,bash]
----
(cd "inventory/classes/${TENANT_ID}" && git commit -av && git push origin master)
----

. Compile and push cluster catalog
+
[source,bash]
----
commodore catalog compile --push -i "${CLUSTER_ID}"
----
